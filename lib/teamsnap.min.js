!function(){var window,global={};!function(){"use strict";var e="undefined"==typeof window?global:window;if("function"!=typeof e.require){var t={},r={},s={}.hasOwnProperty,n={},o=function(e,t){var r=0;t&&(t.indexOf(!1)&&(r="components/".length),t.indexOf("/",r)>0&&(t=t.substring(r,t.indexOf("/",r))));var s=n[e+"/index.js"]||n[t+"/deps/"+e+"/index.js"];return s?"components/"+s.substring(0,s.length-".js".length):e},i=function(){var e=/^\.\.?(\/|$)/;return function(t,r){var s,n,o=[];s=(e.test(r)?t+"/"+r:r).split("/");for(var i=0,a=s.length;a>i;i++)n=s[i],".."===n?o.pop():"."!==n&&""!==n&&o.push(n);return o.join("/")}}(),a=function(e){return e.split("/").slice(0,-1).join("/")},u=function(t){return function(r){var s=i(a(t),r);return e.require(s,t)}},m=function(e,t){var s={id:e,exports:{}};return r[e]=s,t(s.exports,u(e),s),s.exports},c=function(e,n){var a=i(e,".");if(null==n&&(n="/"),a=o(e,n),s.call(r,a))return r[a].exports;if(s.call(t,a))return m(a,t[a]);var u=i(a,"./index");if(s.call(r,u))return r[u].exports;if(s.call(t,u))return m(u,t[u]);throw new Error('Cannot find module "'+e+'" from "'+n+'"')};c.alias=function(e,t){n[t]=e},c.register=c.define=function(e,r){if("object"==typeof e)for(var n in e)s.call(e,n)&&(t[n]=e[n]);else t[e]=r},c.list=function(){var e=[];for(var r in t)s.call(t,r)&&e.push(r);return e},c.brunch=!0,e.require=c}}();var e=global.require;global=this,global.window&&(window=this),e.register("auth",function(e,t,r){var s,n,o,i,a,u,m,c,l,d,p;s=t("./teamsnap").TeamSnap,d=t("./request"),l=t("./promises"),d=t("./request"),m="application/json",a="application/vnd.collection+json",c="multipart/form-data",o="teamsnap.authToken",n=d.create().hook(function(e,t){return e.setRequestHeader("Accept",m),t&&e.setRequestHeader("Content-Type",m),e.withCredentials=!0}),p=d.create().hook(function(e,t){return e.setRequestHeader("Accept",a),!t||t instanceof FormData||e.setRequestHeader("Content-Type",a),e.withCredentials=!0}),s.prototype.auth=function(e){var t,r;if("function"==typeof e?(r=e,e=null):"object"==typeof e&&(r=t,t=e,e=null),"function"==typeof t&&(r=t,t=null),this.request=p.clone(),"number"==typeof e&&-1!==teamsnap.apiUrl.indexOf(":3000"))return this.request.hook(function(t){return t.setRequestHeader("X-Teamsnap-User-ID",e)}),this;if(e||(e=i()),!e)throw new TSArgsError("teamsnap.auth","A token is required to auth unless in the browser it has been cached");return this.request.hook(function(t){return t.setRequestHeader("Authorization","Bearer "+e)}),this},s.prototype.deleteAuth=function(){return this.request=null},s.prototype.isAuthed=function(){return!!this.request},s.prototype.hasSession=function(){return!!i()},s.prototype.init=function(e,t){var r,s,o,a;return a=function(e,t){var r,s,n,o;s=[];for(r in t)o=t[r],o&&s.push(r+"="+encodeURIComponent(o));return n=teamsnap.authUrl+"/oauth/"+e+"?"+s.join("&"),n.replace(/%20/g,"+")},r=function(t,r,s){return s=Array.isArray(s)?s.join(" "):s,a("authorize",{response_type:t,client_id:e,redirect_uri:r,scope:s})},o=function(r){return a("token",{grant_type:"authorization_code",code:r,client_id:e,client_secret:t})},s=function(r,s){return a("token",{grant_type:"password",username:r,password:s,client_id:e,client_secret:t})},this.getServerAuthUrl=function(e,t){return r("code",e,t)},this.getServerTokenUrl=function(e){return o(e)},this.getBrowserAuthUrl=function(e,t){return r("token",e,t)},this.getPasswordAuthUrl=function(e,t){return s(e,t)},this.createDialog=function(e,t){return u(e,t)},this.finishServerAuth=function(e,t){return n.post(this.getServerTokenUrl(e),t)},this.startBrowserAuth=function(e,t,r){if("file:"===location.protocol)throw new TSError("TeamSnap.js cannot auth from the file system");return this.createDialog(this.getBrowserAuthUrl(e,t)).then(function(e){return function(t){var r;return r=t.access_token,i(r),e.auth(r)}}(this)).callback(r)},this.startPasswordAuth=function(e,t,r){return n.post(this.getPasswordAuthUrl(e,t),r)}},i=function(e){return global.sessionStorage?0===arguments.length?sessionStorage.getItem(o):void sessionStorage.setItem(o,e):void 0},u=function(e,t){var r,s,n,o,i,a,u,m,c,d,p;return u=860,n=720,r=l.defer(),d=window.screenLeft||window.screenX,p=window.screenTop||window.screenY,c=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,m=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=d+(c-u)/2,a=p+(m-n)/2,s=window.open(e,"oauth","menubar=no,scrollbars=no,status=no,toolbar=no,width="+u+",height="+n+",left="+i+",top="+a),o=setInterval(function(){var e,t,n;try{if(s.closed&&(clearInterval(o),r.reject({error:"access_denied",error_description:"The resource owner denied the request."})),s.location.host!==location.host)return;t=s.location.hash.replace(/^#/,"")||s.location.search.replace(/^\?/,"")}catch(i){return void(e=i)}return clearInterval(o),s.close(),n={},t.split("&").forEach(function(e){var t,r,s;return r=e.split("="),t=r[0],s=r[1],n[decodeURIComponent(t)]=decodeURIComponent(s.replace(/\+/g," "))}),n.error?r.reject(n):r.resolve(n)},50),r.promise.callback(t)}}),e.register("collections/assignments",function(e,t,r){e.loadAssignments=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadAssignments","must provide a teamId or query parameters");return this.loadItems("assignment",e,t)},e.createAssignment=function(e){return this.createItem(e,{type:"assignment",description:""})},e.saveAssignment=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveAssignment","`assignment` must be provided");if(!this.isItem(e,"assignment"))throw new TSArgsError("teamsnap.saveAssignment","`assignment.type` must be 'assignment'");return e.memberId?e.eventId?(null!=(r=e.description)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a description for the assignment.","name",t):this.reject("You must choose an event.","eventId",t):this.reject("You must choose a member.","memberId",t)},e.deleteAssignment=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteAssignment","`assignment` must be provided");return this.deleteItem(e,t)},e.getAssignmentSort=function(e){return function(t){return function(r,s){var n,o;return t.isItem(r,"assignment")&&t.isItem(s,"assignment")?(n=t.memberName(r.member,e).toLowerCase(),o=t.memberName(s.member,e).toLowerCase()):(n=r.type,o=s.type),"function"==typeof n.localeCompare?n.localeCompare(o):n===o?0:!n&&o?1:n&&!o?-1:n>o?1:o>n?-1:0}}(this)}}),e.register("collections/availabilities",function(e,t,r){var s,n,o,i;e.AVAILABILITIES={NONE:null,NO:0,YES:1,MAYBE:2},o={},n=e.AVAILABILITIES;for(s in n)i=n[s],o[i]=!0;e.loadAvailabilities=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadAvailabilities","must provide a teamId or query parameters");return this.loadItems("availability",e,t)},e.saveAvailability=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveAvailability","`availability` must be provided");if(!this.isItem(e,"availability"))throw new TSArgsError("teamsnap.saveAvailability","`type` must be 'availability'");return null===e.statusCode||o[e.statusCode]?this.saveItem(e,t):this.reject("You must select a valid status or null","statusCode",t)},e.bulkMarkUnsetAvailabilities=function(e,t,r){var s;if(!this.isId(e))throw new TSArgsError("teamsnap.bulkMarkUnsetAvailabilities","must provide a `memberId`");return null!=t&&o[t]?(s={memberId:e,statusCode:t},this.collections.availabilities.exec("bulkMarkUnsetAvailabilities",s).pop().callback(r)):this.reject("You must select a valid status","statusCode",r)}}),e.register("collections/broadcastEmails",function(e,t,r){e.loadBroadcastEmails=function(e,t){if(this.isId(e))e={id:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadBroadcastEmails","must provide an id or query parameters");return this.loadItems("broadcastEmail",e,t)},e.createBroadcastEmail=function(e){return this.createItem(e,{type:"broadcastEmail"})},e.saveBroadcastEmail=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveBroadcastEmail","`broadcastEmail` must be provided");if(!this.isItem(e,"broadcastEmail"))throw new TSArgsError("teamsnap.saveBroadcastEmail","`type` must be 'broadcastEmail'");return e.teamId?e.memberId?(null!=(r=e.body)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide the text alert body.","body",t):this.reject("You must provide a member id.","memberId",t):this.reject("You must provide a team id.","teamId",t)},e.deleteBroadcastEmail=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteBroadcastEmail","`broadcastEmail` must be provided");return this.deleteItem(e,t)},e.uploadAttachment=function(e,t,r){var s;if("undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!t)throw new TSArgsError("teamsnap.uploadAttachment","file is required");if(!e)throw new TSArgsError("teamsnap.uploadAttachment","broadcastEmailId is required");return s={broadcastEmailId:e,file:t},this.collections.broadcastEmails.exec("uploadAttachment",s)}}),e.register("collections/broadcastSms",function(e,t,r){e.loadBroadcastSmses=function(e,t){if(this.isId(e))e={id:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadBroadcastSmses","must provide an id or query parameters");return this.loadItems("broadcastSms",e,t)},e.createBroadcastSms=function(e){return this.createItem(e,{type:"broadcastSms"})},e.saveBroadcastSms=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveBroadcastSms","`broadcastSms` must be provided");if(!this.isItem(e,"broadcastSms"))throw new TSArgsError("teamsnap.saveBroadcastSms","`type` must be 'broadcastSms'");return e.teamId?e.memberId?(null!=(r=e.body)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide the text alert body.","body",t):this.reject("You must provide a member id.","memberId",t):this.reject("You must provide a team id.","teamId",t)},e.deleteBroadcastSms=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteBroadcastSms","`broadcastSms` must be provided");return this.deleteItem(e,t)}}),e.register("collections/contactEmailAddresses",function(e,t,r){e.loadContactEmailAddresses=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadContactEmailAddresses","must provide a teamId or query parameters");return this.loadItems("contactEmailAddress",e,t)},e.createContactEmailAddress=function(e){return this.createItem(e,{type:"contactEmailAddress",receivesTeamEmails:!0})},e.saveContactEmailAddress=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveContactEmailAddress","`emailAddress` must be provided");if(!this.isItem(e,"contactEmailAddress"))throw new TSArgsError("teamsnap.saveContactEmailAddress","`emailAddress.type` must be 'contactEmailAddress'");return e.contactId?this.saveItem(e,t):this.reject("You must choose a contact.","contactId",t)},e.deleteContactEmailAddress=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteContactEmailAddress","`emailAddress` must be provided");return this.deleteItem(e,t)}}),e.register("collections/contactPhoneNumbers",function(e,t,r){e.loadContactPhoneNumbers=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadContactPhoneNumbers","must provide a teamId or query parameters");return this.loadItems("contactPhoneNumber",e,t)},e.createContactPhoneNumber=function(e){return this.createItem(e,{type:"contactPhoneNumber"})},e.saveContactPhoneNumber=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveContactPhoneNumber","`phoneNumber` must be provided");if(!this.isItem(e,"contactPhoneNumber"))throw new TSArgsError("teamsnap.saveContactPhoneNumber","`phoneNumber.type` must be 'contactPhoneNumber'");return e.contactId?this.saveItem(e,t):this.reject("You must choose a contact.","contactId",t)},e.deleteContactPhoneNumber=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteContactPhoneNumber","`phoneNumber` must be provided");return this.deleteItem(e,t)}}),e.register("collections/contacts",function(e,t,r){e.loadContacts=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadContacts","must provide a teamId or query parameters");return this.loadItems("contact",e,t)},e.createContact=function(e){return this.createItem(e,{type:"contact"})},e.saveContact=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveContact","`contact` must be provided");if(!this.isItem(e,"contact"))throw new TSArgsError("teamsnap.saveContact","`contact.type` must be 'contact'");return e.memberId?(null!=(r=e.firstName)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a firstName for the contact.","name",t):this.reject("You must choose a member.","memberId",t)},e.deleteContact=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteContact","`contact` must be provided");return this.deleteItem(e,t)}}),e.register("collections/customData",function(e,t,r){e.loadCustomData=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadCustomData","must provide a teamId or query parameters");return this.loadItems("customDatum",e,t)},e.createCustomDatum=function(e,t){return this.createItem(e,{type:"customDatum",customFieldId:t.id,kind:t.kind,name:t.name,isPrivate:!1,value:null})},e.saveCustomDatum=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveCustomField","`customDatum` must be provided");if(!this.isItem(e,"customDatum"))throw new TSArgsError("teamsnap.saveCustomField","`customDatum.type` must be 'customDatum'");return this.saveItem(e,t)}}),e.register("collections/customFields",function(e,t,r){e.loadCustomFields=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadCustomFields","must provide a teamId or query parameters");return this.loadItems("customField",e,t)},e.createCustomField=function(e){return this.createItem(e,{type:"customField"})},e.saveCustomField=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveCustomField","`customField` must be provided");if(!this.isItem(e,"customField"))throw new TSArgsError("teamsnap.saveCustomField","`customField.type` must be 'customField'");return e.teamId?e.name?e.kind?this.saveItem(e,t):this.reject("You must choose a type.","kind",t):this.reject("You must enter a name.","name",t):this.reject("You must choose a team.","teamId",t)},e.deleteCustomField=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteCustomField","`customField` must be provided");return this.deleteItem(e,t)}}),e.register("collections/divisionLocations",function(e,t,r){e.loadDivisionLocations=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadDivisionLocations","must provide a teamId or query parameters");return this.loadItems("divisionLocation",e,t)}}),e.register("collections/divisionMemberPreferences",function(e,t,r){e.PREFS={SCHEDULE_SHOW:{ALL:1,GAMES:2,EVENTS:3}},e.loadDivisionMembersPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadDivisionMembersPreferences","must provide a teamId or query parameters");return this.loadItems("divisionMemberPreferences",e,t)},e.loadDivisionMemberPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadDivisionMemberPreferences","must provide a teamId or query parameters");return this.loadItem("divisionMemberPreferences",e,t)},e.saveDivisionMemberPreferences=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveDivisionMemberPreferences","`divisionMemberPreferences` must be provided");if(!this.isItem(e,"divisionMemberPreferences"))throw new TSArgsError("teamsnap.saveDivisionMemberPreferences","`divisionMemberPreferences.type` must be 'divisionMemberPreferences'");return this.saveItem(e,t)}}),e.register("collections/divisionMembers",function(e,t,r){e.loadDivisionMembers=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadDivisionMembers","must provide a teamId or query parameters");return this.loadItems("divisionMember",e,t)}}),e.register("collections/divisionTeamStandings",function(e,t,r){e.loadDivisionTeamStandings=function(e,t){var r;if(!this.isId(e))throw new TSArgsError("teamsnap.loadDivisionTeamStandings","must provide a teamId");return r={teamId:e},this.loadItems("divisionTeamStanding",r,t)}}),e.register("collections/events",function(e,t,r){var s,n,o,i;e.EVENTS={NONE:"none",FUTURE:"future",ALL:"all"},e.REMINDERS={ALL:"all",UNSET:"unset"},s={},o=e.EVENTS;for(n in o)i=o[n],s[i]=!0;e.loadEvents=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadEvents","must provide a teamId or query parameters");return this.loadItems("event",e,t)},e.createEvent=function(e){return this.createItem(e,{type:"event",isGame:!1,tracksAvailability:!0})},e.saveEvent=function(e,t){var r,s;if(!e)throw new TSArgsError("teamsnap.saveEvent","`event` must be provided");if(!this.isItem(e,"event"))throw new TSArgsError("teamsnap.saveEvent","`event.type` must be 'event'");return e.isGame||(null!=(r=e.name)?r.trim():void 0)?e.teamId?e.locationId||e.divisionLocationId?e.isGame&&!e.opponentId?this.reject("You must choose an opponent.","opponentId",t):isNaN(null!=(s=e.startDate)?s.getTime():void 0)?this.reject("You must provide a valid start date.","startDate",t):e.notifyTeam&&!e.notifyTeamAsMemberId?this.reject("You must provide the current member's id.","notifyTeamAsMemberId",t):this.saveItem(e,t):this.reject("You must choose a location.","locationId",t):this.reject("You must choose a team.","teamId",t):this.reject("You must provide a name.","name",t)},e.deleteEvent=function(e,t,r,n,o){var i;if(i={},!e)throw new TSArgsError("teamsnap.deleteEvent","`event` must be provided");if("function"==typeof t&&(o=t,t=null),!t&&e.repeatingUuid&&(t=this.EVENTS.NONE),t){if(!s[t])throw new TSArgsError("teamsnap.deleteEvent","`include` must be one of "+Object.keys(s).join(", "));i.repeatingInclude=t}if(r){if(i.notifyTeam=r,!n)throw new TSArgsError("teamsnap.deleteEvent","`notifyTeamAsMemberId` must be provided");i.notifyTeamAsMemberId=n}return this.deleteItem(e,i,o)},e.sendAvailabilityReminders=function(e,t,r){var s;if(r||(r=[]),this.isItem(e,"event")&&(e=e.id),this.isItem(t,"member")?t=t.id:this.isItem(t,"divisionMember")&&(t=t.id),!this.isId(e))throw new TSArgsError("teamsnap.sendAvailabilityReminders","must include id `eventId`");if(!this.isId(t))throw new TSArgsError("teamsnap.sendAvailabilityReminders","must include id `sendingMemberId`");if(!Array.isArray(r))throw new TSArgsError("teamsnap.sendAvailabilityReminders","`include` must be an array of user ids");if(null==r||0===r.length)throw new TSArgsError("teamsnap.sendAvailabilityReminders","`include` must be an array of user ids");return s={id:e,membersToNotify:r,notifyTeamAsMemberId:t},this.collections.events.exec("sendAvailabilityReminders",s)},e.getEventSort=function(){return function(e){return function(t,r){var s,n;return e.isItem(t,"event")&&e.isItem(r,"event")?(s=t.startDate,n=r.startDate):(s=t.type,n=r.type),s>n?1:n>s?-1:0}}(this)}}),e.register("collections/forumPosts",function(e,t,r){e.loadForumPosts=function(e,t){if(this.isId(e))e={id:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadForumPosts","must provide an id or query parameters");return this.loadItems("forumPost",e,t)},e.createForumPost=function(e){return this.createItem(e,{type:"forumPost"})},e.saveForumPost=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveForumPost","`forumPost` must be provided");if(!this.isItem(e,"forumPost"))throw new TSArgsError("teamsnap.saveForumPost","`type` must be 'forumPost'");return e.forumTopicId?e.memberId?(null!=(r=e.message)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a message for the forum post.","message",t):this.reject("You must provide a member id.","memberId",t):this.reject("You must provide a forum topic id.","forumTopicId",t)},e.deleteForumPost=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteForumPost","`forumPost` must be provided");return this.deleteItem(e,t)}}),e.register("collections/forumSubscriptions",function(e,t,r){e.loadForumSubscriptions=function(e,t){if(this.isId(e))e={id:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadForumSubscriptions","must provide an id or query parameters");return this.loadItems("forumSubscription",e,t)},e.createForumSubscription=function(e){return this.createItem(e,{type:"forumSubscription"})},e.saveForumSubscription=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveForumSubscription","`forumSubscription` must be provided");if(!this.isItem(e,"forumSubscription"))throw new TSArgsError("teamsnap.saveForumSubscription","`type` must be 'forumSubscription'");return e.forumTopicId?e.memberId?this.saveItem(e,t):this.reject("You must provide a member id.","memberId",t):this.reject("You must provide a forum topic id.","forumTopicId",t)},e.deleteForumSubscription=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteForumSubscription","`forumSubscription` must be provided");return this.deleteItem(e,t)}}),e.register("collections/forumTopics",function(e,t,r){e.loadForumTopics=function(e,t){if(this.isId(e))e={id:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadForumTopics","must provide an id or query parameters");return this.loadItems("forumTopic",e,t)},e.createForumTopic=function(e){return this.createItem(e,{type:"forumTopic"})},e.saveForumTopic=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveForumTopic","`forumTopic` must be provided");if(!this.isItem(e,"forumTopic"))throw new TSArgsError("teamsnap.saveForumTopic","`type` must be 'forumTopic'");return e.teamId?(null!=(r=e.title)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a title for the forum topic.","title",t):this.reject("You must choose a team.","teamId",t)},e.deleteForumTopic=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteForumTopic","`forumTopic` must be provided");return this.deleteItem(e,t)}}),e.register("collections/leagueCustomData",function(e,t,r){e.loadLeagueCustomData=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadLeagueCustomData","must provide a teamId or query parameters");return this.loadItems("leagueCustomDatum",e,t)},e.createLeagueCustomDatum=function(e,t){return this.createItem(e,{type:"leagueCustomDatum",leagueCustomFieldId:t.id,kind:t.kind,name:t.name,isPrivate:!1,value:null})},e.saveLeagueCustomDatum=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveLeagueCustomDatum","`leagueCustomDatum` must be provided");if(!this.isItem(e,"leagueCustomDatum"))throw new TSArgsError("teamsnap.saveLeagueCustomDatum","`leagueCustomDatum.type` must be 'leagueCustomDatum'");return this.saveItem(e,t)}}),e.register("collections/leagueCustomFields",function(e,t,r){e.loadLeagueCustomFields=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadLeagueCustomFields","must provide a teamId or query parameters");return this.loadItems("leagueCustomField",e,t)}}),e.register("collections/leagueRegistrantDocuments",function(e,t,r){e.loadLeagueRegistrantDocuments=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadLeagueRegistrantDocuments","must provide a teamId or query parameters");return this.loadItems("leagueRegistrantDocument",e,t)}}),e.register("collections/locations",function(e,t,r){e.loadLocations=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadLocations","must provide a teamId or query parameters");return this.loadItems("location",e,t)},e.createLocation=function(e){return this.createItem(e,{type:"location",name:""})},e.saveLocation=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveLocation","`location` must be provided");if(!this.isItem(e,"location"))throw new TSArgsError("teamsnap.saveLocation","`location.type` must be 'location'");return e.teamId?(null!=(r=e.name)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a name for the location.","name",t):this.reject("You must choose a team.","teamId",t)},e.deleteLocation=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteLocation","`location` must be provided");return this.deleteItem(e,t)}}),e.register("collections/memberBalances",function(e,t,r){e.loadMemberBalances=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberBalances","must provide a teamId or query parameters");return this.loadItems("memberBalance",e,t)}}),e.register("collections/memberEmailAddresses",function(e,t,r){e.loadMemberEmailAddresses=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberEmailAddresses","must provide a teamId or query parameters");return this.loadItems("memberEmailAddress",e,t)},e.createMemberEmailAddress=function(e){return this.createItem(e,{type:"memberEmailAddress",receivesTeamEmails:!0})},e.saveMemberEmailAddress=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberEmailAddress","`emailAddress` must be provided");if(!this.isItem(e,"memberEmailAddress"))throw new TSArgsError("teamsnap.saveMemberEmailAddress","`emailAddress.type` must be 'memberEmailAddress'");return e.memberId?this.saveItem(e,t):this.reject("You must choose a member.","memberId",t)},e.deleteMemberEmailAddress=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteMemberEmailAddress","`emailAddress` must be provided");return this.deleteItem(e,t)}}),e.register("collections/memberFiles",function(e,t,r){e.loadMemberFiles=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberFiles","must provide a teamId or query parameters");return this.loadItems("memberFile",e,t)},e.createMemberFile=function(e){return this.createItem(e,{type:"memberFile"})},e.saveMemberFile=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberFile","`memberFile` must be provided");if(!this.isItem(e,"memberFile"))throw new TSArgsError("teamsnap.saveMemberFile","`memberFile.type` must be 'memberFile'");return e.memberId?this.saveItem(e,t):this.reject("You must choose a member.","memberId",t)},e.deleteMemberFile=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteMemberFile","`memberFile` must be provided");return this.deleteItem(e,t)},e.uploadMemberFile=function(e,t,r){var s;if(this.isItem(e,"memberFile")&&(e=e.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.uploadMemberFile","must include `memberFileId`");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadMemberFile","must include `file` as type File");return s={memberFileId:e,file:t},this.collections.memberFiles.exec("uploadMemberFile",s).pop().callback(r)}}),e.register("collections/memberLinks",function(e,t,r){e.loadMemberLinks=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberLinks","must provide a teamId or query parameters");return this.loadItems("memberLink",e,t)},e.createMemberLink=function(e){return this.createItem(e,{type:"memberLink"})},e.saveMemberLink=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberLink","`memberLink` must be provided");if(!this.isItem(e,"memberLink"))throw new TSArgsError("teamsnap.saveMemberLink","`memberLink.type` must be 'memberLink'");return e.memberId?this.saveItem(e,t):this.reject("You must choose a member.","memberId",t)},e.deleteMemberLink=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteMemberLink","`memberLink` must be provided");return this.deleteItem(e,t)}}),e.register("collections/memberPayments",function(e,t,r){e.loadMemberPayments=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberPayments","must provide a teamId or query parameters");return this.loadItems("memberPayment",e,t)},e.saveMemberPayment=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberPayment","`memberPayment` must be provided");if(!this.isItem(e,"memberPayment"))throw new TSArgsError("teamsnap.saveMemberPayment","`memberPayment.type` must be 'memberPayment'");return e.memberId?this.saveItem(e,t):this.reject("You must choose a member.","memberId",t)}}),e.register("collections/memberPhoneNumbers",function(e,t,r){e.loadMemberPhoneNumbers=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberPhoneNumbers","must provide a teamId or query parameters");return this.loadItems("memberPhoneNumber",e,t)},e.createMemberPhoneNumber=function(e){return this.createItem(e,{type:"memberPhoneNumber"})},e.saveMemberPhoneNumber=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberPhoneNumber","`phoneNumber` must be provided");if(!this.isItem(e,"memberPhoneNumber"))throw new TSArgsError("teamsnap.saveMemberPhoneNumber","`phoneNumber.type` must be 'memberPhoneNumber'");return e.memberId?this.saveItem(e,t):this.reject("You must choose a member.","memberId",t)},e.deleteMemberPhoneNumber=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteMemberPhoneNumber","`phoneNumber` must be provided");return this.deleteItem(e,t)}}),e.register("collections/memberPreferences",function(e,t,r){e.PREFS={SCHEDULE_SHOW:{ALL:1,GAMES:2,EVENTS:3}},e.loadMembersPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMembersPreferences","must provide a teamId or query parameters");return this.loadItems("memberPreferences",e,t)},e.loadMemberPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberPreferences","must provide a teamId or query parameters");return this.loadItem("memberPreferences",e,t)},e.saveMemberPreferences=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveMemberPreferences","`memberPreferences` must be provided");if(!this.isItem(e,"memberPreferences"))throw new TSArgsError("teamsnap.saveMemberPreferences","`memberPreferences.type` must be 'memberPreferences'");return this.saveItem(e,t)},e.saveTeamPreferences=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTeamPreferences","`teamPreferences` must be provided");if(!this.isItem(e,"teamPreferences"))throw new TSArgsError("teamsnap.saveTeamPreferences","`teamPreferences.type` must be 'teamPreferences'");return this.saveItem(e,t)}}),e.register("collections/memberStatistics",function(e,t,r){e.loadMemberStatistics=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMemberStatistics","must provide a teamId or query parameters");return this.loadItems("memberStatistic",e,t)}}),e.register("collections/members",function(e,t,r){e.loadMembers=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadMembers","must provide a teamId or query parameters");return this.loadItems("member",e,t)},e.createMember=function(e){return this.createItem(e,{type:"member"})},e.saveMember=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveMember","`member` must be provided");if(!this.isItem(e,"member"))throw new TSArgsError("teamsnap.saveMember","`type` must be 'member'");return e.teamId?(null!=(r=e.firstName)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a first name for the member.","name",t):this.reject("You must choose a team.","teamId",t)},e.deleteMember=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteMember","`member` must be provided");
return this.deleteItem(e,t)},e.uploadMemberPhoto=function(e,t,r){var s;if(this.isItem(e,"member")&&(e=e.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.deleteMemberPhoto","`memberId` must be a valid id");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadMemberFile","must include `file` as type File");return s={memberId:e,file:t},this.collections.members.exec("uploadMemberPhoto",s).pop().callback(r)},e.removeMemberPhoto=function(e,t){var r;if(this.isItem(e,"member")&&(e=e.id),!this.isId(e))throw new TSArgsError("teamsnap.deleteMemberPhoto","`memberId` must be a valid id");return r={memberId:e},this.collections.members.exec("removeMemberPhoto",r).pop().callback(t)},e.generateMemberThumbnail=function(e,t,r,s,n,o){var i;if(this.isItem(e,"member")&&(e=e.id),null==e||null==t||null==r||null==s||null==n)throw new TSArgsError("teamsnap.generateThumbnail","`memberId`, `x`, `y`, `width`, and `height` are all required");if(!this.isId(e))throw new TSArgsError("teamsnap.generateMemberThumbnail","`memberId` must be a valid id");return i={memberId:e,x:t,y:r,width:s,height:n},this.collections.members.exec("generateMemberThumbnail",i).pop().callback(o)},e.disableMember=function(e,t){var r;if(this.isItem(e,"member")&&(e=e.id),!this.isId(e))throw new TSArgsError("teamsnap.disableMember","`memberId` must be a valid id");return r={memberId:e},this.collections.members.exec("disableMember",r).pop().callback(t)},e.memberName=function(e,t,r){return e?t&&(e.firstName&&e.lastName||r)?e.lastName+", "+e.firstName:[e.firstName||"",e.lastName||""].join(" ").trim():""},e.getMemberSort=function(e){return function(t){return function(r,s){var n,o;return t.isItem(r,"member")&&t.isItem(s,"member")?(n=t.memberName(r,e,!0).toLowerCase(),o=t.memberName(s,e,!0).toLowerCase()):(n=r.type,o=s.type),"function"==typeof n.localeCompare?n.localeCompare(o):n===o?0:!n&&o?1:n&&!o?-1:n>o?1:o>n?-1:0}}(this)},e.canEditTeam=function(e,t){return e&&t?(e.isManager||e.isOwner)&&(!t.isArchivedSeason||e.isOwner):!1},e.canEditItem=function(e,t,r){return e&&t&&this.isItem(r)?r.readOnly?!1:teamsnap.canEditTeam(e,t)?!0:t.isArchivedSeason?!1:this.isItem(r,"member")?r.href===e.href:r.links.member.href===e.href:!1}}),e.register("collections/opponentResults",function(e,t,r){e.loadOpponentsResults=function(e,t){if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadOpponentsResults","must provide query parameters");return this.loadItems("opponentResults",e,t)},e.loadOpponentResults=function(e,t){var r;if(!this.isId(e))throw new TSArgsError("teamsnap.loadOpponentResults","must provide an opponentId");return r={id:e},this.loadItem("opponentResults",r,t)}}),e.register("collections/opponents",function(e,t,r){e.loadOpponents=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadOpponents","must provide a teamId or query parameters");return this.loadItems("opponent",e,t)},e.createOpponent=function(e){return this.createItem(e,{type:"opponent",name:""})},e.saveOpponent=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveOpponent","`opponent` must be provided");if(!this.isItem(e,"opponent"))throw new TSArgsError("teamsnap.saveOpponent","`opponent.type` must be 'opponent'");return e.teamId?(null!=(r=e.name)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a name for the opponent.","name",t):this.reject("You must choose a team.","teamId",t)},e.deleteOpponent=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteOpponent","`opponent` must be provided");return this.deleteItem(e,t)}}),e.register("collections/paymentNotes",function(e,t,r){e.loadPaymentNotes=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadPaymentNotes","must provide a teamId or query parameters");return this.loadItems("paymentNote",e,t)},e.createPaymentNote=function(e){return this.createItem(e,{type:"paymentNote"})},e.savePaymentNote=function(e,t){if(!e)throw new TSArgsError("teamsnap.savePaymentNote","`paymentNote` must be provided");if(!this.isItem(e,"paymentNote"))throw new TSArgsError("teamsnap.savePaymentNote","`paymentNote.type` must be 'paymentNote'");return e.teamId?e.memberPaymentId?e.note?this.saveItem(e,t):this.reject("You must provide a note.","note",t):this.reject("You must specify a memberPaymentId.","memberPaymentId",t):this.reject("You must choose a team.","teamId",t)}}),e.register("collections/plans",function(e,t,r){e.loadPlans=function(e,t){if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadPlans","must provide query parameters");return this.loadItems("plan",e,t)},e.loadPlan=function(e,t){var r;if(!this.isId(e))throw new TSArgsError("teamsnap.loadPlan","must provide a teamId");return r={teamId:e},this.loadItem("plan",r,t)}}),e.register("collections/sponsors",function(e,t,r){e.createSponsor=function(e){return this.createItem(e,{type:"sponsor",name:""})},e.saveSponsor=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveSponsor","`sponsor` must be provided");if(!this.isItem(e,"sponsor"))throw new TSArgsError("teamsnap.saveSponsor","`sponsor.type` must be 'sponsor'");return this.saveItem(e,t)},e.deleteSponsor=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteSponsor","`sponsor` must be provided");return this.deleteItem(e,t)},e.uploadSponsorLogo=function(e,t,r){var s;if(this.isItem(e,"sponsor")&&(e=e.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.uploadSponsorLogo","must include `sponsorId`");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadSponsorLogo","must include `file` as type File");return s={sponsorId:e,file:t},this.collections.sponsors.exec("uploadSponsorLogo",s).pop().callback(r)},e.deleteSponsorLogo=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.deleteSponsorLogo","`sponsorId` must be provided");if(this.isItem(e,"sponsor")&&(e=e.id),!this.isId(e))throw new TSArgsError("teamsnap.deleteSponsorLogo","`sponsorId` must be a valid id");return r={sponsorId:e},this.collections.sponsors.exec("removeSponsorLogo",r).callback(t)}}),e.register("collections/sports",function(e,t,r){e.loadSports=function(e,t){if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadSports","must provide query parameters");return this.loadItems("sport",e,t)},e.loadSport=function(e,t){var r;if(!this.isId(e))throw new TSArgsError("teamsnap.loadSport","must provide a teamId");return r={teamId:e},this.loadItem("sport",r,t)}}),e.register("collections/statisticData",function(e,t,r){e.loadStatisticData=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadStatisticData","must provide a teamId or query parameters");return this.loadItems("statisticDatum",e,t)},e.createStatisticDatum=function(e){return this.createItem(e,{type:"statisticDatum"})},e.saveStatisticDatum=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveStatisticDatum","`statisticDatum` must be provided");if(!this.isItem(e,"statisticDatum"))throw new TSArgsError("teamsnap.saveStatisticDatum","`statisticDatum.type` must be 'statisticDatum'");return e.eventId?e.statisticId?e.teamId?this.saveItem(e,t):this.reject("You must choose a team.","teamId",t):this.reject("You must specify a statistic.","statisticId",t):this.reject("You must specify an event.","eventId",t)},e.deleteStatisticDatum=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteStatisticDatum","`statisticDatum` must be provided");return this.deleteItem(e,t)},e.bulkSaveStatisticData=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.bulkSaveStatisticData","`templates` must be provided");return r={templates:e},this.collections.statisticData.exec("bulkUpdateStatisticData",r).callback(t)},e.bulkDeleteStatisticData=function(e,t,r){var s;if(!e)throw new TSArgsError("teamsnap.bulkDeleteStatisticData","`member` must be provided");if(!this.isItem(e,"member"))throw new TSArgsError("teamsnap.bulkDeleteStatisticData","`member.type` must be 'member'");if(!t)throw new TSArgsError("teamsnap.bulkDeleteStatisticData","`event` must be provided");if(!this.isItem(t,"event"))throw new TSArgsError("teamsnap.bulkDeleteStatisticData","`event.type` must be 'event'");return s={memberId:e.id,eventId:t.id},this.collections.statisticData.exec("bulkDeleteStatisticData",s).callback(r)}}),e.register("collections/statisticGroups",function(e,t,r){e.loadStatisticGroups=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadStatisticGroups","you must provide a a teamId or query parameters");return this.loadItems("statisticGroup",e,t)},e.createStatisticGroup=function(e){return this.createItem(e,{type:"statisticGroup"})},e.saveStatisticGroup=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveStatisticGroup","`statisticGroup` must be provided");if(!this.isItem(e,"statisticGroup"))throw new TSArgsError("teamsnap.saveStatisticGroup","`statisticGroup.type` must be 'statisticGroup'");return e.name?e.teamId?this.saveItem(e,t):this.reject("You must specify a team","teamId",t):this.reject("You must specify a name","name",t)},e.deleteStatisticGroup=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteStatisticGroup","`statisticGroup` must be provided");return this.deleteItem(e,t)},e.reorderStatisticGroups=function(e,t,r){var s;if(!this.isId(e))throw new TSArgsError("teamsnap.reorderStatisticGroups","`teamId` must be provided");if(!t||"object"!=typeof t)throw new TSArgsError("teamsnap.reorderStatisticGroups","You must provide an array of ordered Statistic Group IDs");return s={teamId:e,sortedIds:t},this.collections.statisticGroups.exec("reorderStatisticGroups",s).callback(r)}}),e.register("collections/statistics",function(e,t,r){e.loadStatistics=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadStatistics","must provide a teamId or query parameters");return this.loadItems("statistic",e,t)},e.createStatistic=function(e){return this.createItem(e,{type:"statistic"})},e.saveStatistic=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveStatistic","`statistic` must be provided");if(!this.isItem(e,"statistic"))throw new TSArgsError("teamsnap.saveStatistic","`statistic.type` must be 'statistic'");return e.name?e.acronym?e.teamId?this.saveItem(e,t):this.reject("You must choose a team.","teamId",t):this.reject("You must specify an acronym.","acronym",t):this.reject("You must specify a name.","name",t)},e.deleteStatistic=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteStatistic","`statistic` must be provided");return this.deleteItem(e,t)},e.reorderStatistics=function(e,t,r){var s;if(!this.isId(e))throw new TSArgsError("teamsnap.reorderStatistics","`teamId` must be provided");if(!t||"object"!=typeof t)throw new TSArgsError("teamsnap.reorderStatistics","You must provide an array of ordered Statistic IDs");return s={teamId:e,sortedIds:t},this.collections.statistics.exec("reorderStatistics",s).callback(r)}}),e.register("collections/teamFees",function(e,t,r){e.loadTeamFees=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamFees","must provide a teamId or query parameters");return this.loadItems("teamFee",e,t)},e.createTeamFee=function(e){return this.createItem(e,{type:"teamFee"})},e.saveTeamFee=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTeamFee","`teamFee` must be provided");if(!this.isItem(e,"teamFee"))throw new TSArgsError("teamsnap.saveTeamFee","`teamFee.type` must be 'teamFee'");return e.teamId?e.description?e.amount?this.saveItem(e,t):this.reject("You must provide a fee amount.","description",t):this.reject("You must provide a team fee description.","description",t):this.reject("You must choose a team.","teamId",t)},e.deleteTeamFee=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteTeamFee","`teamFee` must be provided");return this.deleteItem(e,t)}}),e.register("collections/teamPaypalPreferences",function(e,t,r){e.teamPaypalPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.teamPaypalPreferences","must provide a teamId or query parameters");return this.loadItem("teamPaypalPreferences",e,t)},e.saveTeamPaypalPreferences=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTeamPaypalPreferences","`teamPaypalPreferences` must be provided");if(!this.isItem(e,"teamPaypalPreferences"))throw new TSArgsError("teamsnap.saveTeamPaypalPreferences","`teamPaypalPreferences.type` must be 'teamPaypalPreferences'");return this.saveItem(e,t)}}),e.register("collections/teamPreferences",function(e,t,r){e.loadTeamsPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamPreferences","must provide a teamId or query parameters");return this.loadItems("teamPreferences",e,t)},e.loadTeamPreferences=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamPreferences","must provide a teamId or query parameters");return this.loadItem("teamPreferences",e,t)},e.saveTeamPreferences=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTeamPreferences","`teamPreferences` must be provided");if(!this.isItem(e,"teamPreferences"))throw new TSArgsError("teamsnap.saveTeamPreferences","`teamPreferences.type` must be 'teamPreferences'");return this.saveItem(e,t)},e.uploadTeamPhoto=function(e,t,r){var s;if(this.isItem(e,"teamPreferences")&&(e=teamPreferences.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.uploadTeamPhoto","must include `teamPreferencesId`");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadTeamPhoto","must include `file` as type File");return s={teamPreferencesId:e,file:t},this.collections.teamsPreferences.exec("uploadTeamPhoto",s).pop().callback(r)},e.deleteTeamPhoto=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.deleteTeamPhoto","`teamPreferencesId` must be provided");if(this.isItem(e,"teamPreferences")&&(e=teamPreferences.id),!this.isId(e))throw new TSArgsError("teamsnap.deleteTeamPhoto","`teamPreferencesId` must be a valid id");return r={teamPreferencesId:e},this.collections.teamsPreferences.exec("removeTeamPhoto",r).callback(t)},e.uploadTeamLogo=function(e,t,r){var s;if(this.isItem(e,"teamPreferences")&&(e=teamPreferences.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.uploadTeamLogo","must include `teamPreferencesId`");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadTeamLogo","must include `file` as type File");return s={teamPreferencesId:e,file:t},this.collections.teamsPreferences.exec("uploadTeamLogo",s).pop().callback(r)},e.deleteTeamLogo=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.deleteTeamLogo","`teamPreferencesId` must be provided");if(this.isItem(e,"teamPreferences")&&(e=teamPreferences.id),!this.isId(e))throw new TSArgsError("teamsnap.deleteTeamLogo","`teamPreferencesId` must be a valid id");return r={teamPreferencesId:e},this.collections.teamsPreferences.exec("removeTeamLogo",r).callback(t)}}),e.register("collections/teamPublicSites",function(e,t,r){e.loadTeamPublicSites=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamPublicSites","must provide a teamId or query parameters");return this.loadItems("teamPublicSite",e,t)},e.loadTeamPublicSite=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamPublicSite","must provide a teamId or query parameters");return this.loadItem("teamPublicSite",e,t)},e.saveTeamPublicSite=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTeamPublicSite","`teamPublicSite` must be provided");if(!this.isItem(e,"teamPublicSite"))throw new TSArgsError("teamsnap.saveTeamPublicSite","`teamPublicSite.type` must be 'teamPublicSite'");return this.saveItem(e,t)},e.uploadTeamPublicPhoto=function(e,t,r){var s;if(this.isItem(e,"teamPublicSite")&&(e=teamPublicSite.id),"undefined"==typeof FormData&&this.reject("Your browser does not support the new file upload APIs.","file",r),!this.isId(e))throw new TSArgsError("teamsnap.uploadTeamPublicPhoto","must include `teamPublicSiteId`");if(!(t instanceof File))throw new TSArgsError("teamsnap.uploadTeamPublicPhoto","must include `file` as type File");return s={teamPublicSiteId:e,file:t},this.collections.teamPublicSites.exec("uploadTeamPublicPhoto",s).pop().callback(r)},e.deleteTeamPublicPhoto=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.deleteTeamPublicPhoto","`teamPublicSiteId` must be provided");if(this.isItem(e,"teamPublicSite")&&(e=teamPublicSite.id),!this.isId(e))throw new TSArgsError("teamsnap.deleteTeamPublicPhoto","`teamPublicSiteId` must be a valid id");return r={teamPublicSiteId:e},this.collections.teamPublicSites.exec("removeTeamPublicPhoto",r).callback(t)},e.validateSubdomain=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.validateSubdomain","`subdomain` must be provided");return r={subdomain:e},this.collections.teamPublicSites.exec("validateSubdomain",r).callback(t)}}),e.register("collections/teamResults",function(e,t,r){e.loadTeamsResults=function(e,t){if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamsResults","must provide query parameters");return this.loadItems("teamResults",e,t)},e.loadTeamResults=function(e,t){var r;if(!this.isId(e))throw new TSArgsError("teamsnap.loadTeamResults","must provide a teamId");return r={teamId:e},this.loadItem("teamResults",r,t)}}),e.register("collections/teamStatistics",function(e,t,r){e.loadTeamStatistics=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTeamStatistics","must provide a teamId or query parameters");return this.loadItems("teamStatistic",e,t)}}),e.register("collections/teams",function(e,t,r){var s;e.loadTeams=function(e,t){return null==e&&(e={}),"function"==typeof e&&(t=e,e={}),Object.keys(e).length?this.loadItems("team",e,t):this.loadMe().then(function(r){return function(s){return e.userId=s.id,r.loadItems("team",e,t)}}(this))},e.loadTeam=function(e,t){if(!this.isId(e))throw new TSArgsError("teamsnap.loadTeam","teamId must be provided");return this.loadItem("team",{teamId:e},t)},e.createTeam=function(e){return this.createItem(e,{type:"team",name:""})},e.saveTeam=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveTeam","`team` must be provided");if(!this.isItem(e,"team"))throw new TSArgsError("teamsnap.saveTeam","`type` must be 'team'");return(null!=(r=e.name)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a name for the team.","name",t)},e.deleteTeam=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteTeam","`team` must be provided");return this.deleteItem(e,t)},e.bulkLoad=function(e,t,r){var s;if(!this.isId(e))throw new TSArgsError("teamsnap.bulkLoad","teamId must be provided");return"function"==typeof t&&(r=t,t=null),Array.isArray(t)||(t=this.getTeamTypes(),t.splice(t.indexOf("availability"),1)),s={teamId:e,types:t.map(this.underscoreType).join(",")},this.collections.root.queryItems("bulkLoad",s,r)},e.invite=function(e){if(null==e&&(e={}),s(e,"memberId"),s(e,"contactId"),!e.memberId&&!e.contactId)throw new TSArgsError("teamsnap.invite","options.memberId or options.contactId is required.");if(!e.teamId)throw new TSArgsError("teamsnap.invite","options.teamId is required.");if(!e.notifyAsMemberId)throw new TSArgsError("teamsnap.invite","options.notifyAsMemberId is required.");return this.collections.teams.exec("invite",e)},e.updateTimeZone=function(e){if(null==e&&(e={}),!e.timeZone)throw new TSArgsError("teamsnap.updateTimeZone","options.timeZone is required.");if(!e.teamId)throw new TSArgsError("teamsnap.updateTimeZone","options.teamId is required.");if(!e.offsetTeamTimes)throw new TSArgsError("teamsnap.updateTimeZone","options.offsetTeamTimes is required");return this.collections.teams.exec("updateTimeZone",e)},e.resetStatistics=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.resetStatistics","`teamId` must be provided");if(this.isItem(e,"teamId")&&(e=e.id),!this.isId(e))throw new TSArgsError("teamsnap.resetStatistics","`teamId` must be a valid id");return r={teamId:e},this.collections.teams.exec("resetStatistics",r).callback(t)},s=function(e,t){var r;return r=t+"s",e[r]&&(e[t]=e[r],delete e[r]),null==e[t]||Array.isArray(e[t])||(e[t]=[e[t]]),e}}),e.register("collections/trackedItemStatuses",function(e,t,r){var s,n,o,i;e.TRACKING={NONE:0,CHECK:1,X:2},o={},n=e.TRACKING;for(s in n)i=n[s],o[i]=!0;e.loadTrackedItemStatuses=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTrackedItemStatuses","must provide a teamId or query parameters");return this.loadItems("trackedItemStatus",e,t)},e.saveTrackedItemStatus=function(e,t){if(!e)throw new TSArgsError("teamsnap.saveTrackedItemStatus","`trackedItemStatus` must be provided");if(!this.isItem(e,"trackedItemStatus"))throw new TSArgsError("teamsnap.saveTrackedItemStatus","`trackedItemStatus.type` must be 'trackedItemStatus'");return o[e.statusCode]?this.saveItem(e,t):this.reject("You must select a valid status","statusCode",t)}}),e.register("collections/trackedItems",function(e,t,r){e.loadTrackedItems=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadTrackedItems","must provide a teamId or query parameters");return this.loadItems("trackedItem",e,t)},e.createTrackedItem=function(e){return this.createItem(e,{type:"trackedItem",name:""})},e.saveTrackedItem=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveTrackedItem","`trackedItem` must be provided");if(!this.isItem(e,"trackedItem"))throw new TSArgsError("teamsnap.saveTrackedItem","`trackedItem.type` must be 'trackedItem'");return e.teamId?(null!=(r=e.name)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide a name for the tracked item.","name",t):this.reject("You must choose a team.","teamId",t)},e.deleteTrackedItem=function(e,t){if(!e)throw new TSArgsError("teamsnap.deleteTrackedItem","`trackedItem` must be provided");return this.deleteItem(e,t)}}),e.register("collections/users",function(e,t,r){e.loadUsers=function(e,t){if(this.isId(e))e={teamId:e};else if(!e||"object"!=typeof e)throw new TSArgsError("teamsnap.loadUsers","must provide a teamId or query parameters");return this.loadItems("user",e,t)},e.loadMe=function(e){return this.collections.root.queryItem("me",e)},e.saveUser=function(e,t){var r;if(!e)throw new TSArgsError("teamsnap.saveUser","`user` must be provided");if(!this.isItem(e,"user"))throw new TSArgsError("teamsnap.saveUser","`user.type` must be 'user'");return(null!=(r=e.email)?r.trim():void 0)?this.saveItem(e,t):this.reject("You must provide an email for the user.","email",t)}}),e.register("errors",function(e,t,r){var s,n,o,i,a=function(e,t){function r(){this.constructor=e}for(var s in t)u.call(t,s)&&(e[s]=t[s]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},u={}.hasOwnProperty;n=function(e){function t(e){t.__super__.constructor.call(this),this.name="TeamSnapError",this.message=e}return a(t,e),t}(Error),s=function(e){function t(e,r){t.__super__.constructor.call(this),this.name="TeamSnapArgumentError",this.message="Failed to execute `"+e+"`: "+r+"."}return a(t,e),t}(TypeError),i=function(e){function t(e,r){t.__super__.constructor.call(this),this.name="TeamSnapValidationError",this.message=e,this.field=r}return a(t,e),t}(RangeError),o=function(e){function t(e){t.__super__.constructor.call(this),this.name="TeamSnapServerError",this.message=e||"An unknown error occurred on TeamSnap's server."}return a(t,e),t.create=function(e,r){return new t(e,r)},t}(Error),global.TSError=n,global.TSArgsError=s,global.TSValidationError=i,global.TSServerError=o}),e.register("linking",function(e,t,r){var s,n,o,i,a,u,m,c;i=t("./types"),o=function(e,t){return null==t&&(t={}),e?(Array.isArray(e)?(e.forEach(function(e){return e.href?t[e.href]=e:void 0}),e.forEach(function(e){return s(e,t)})):(e.href&&(t[e.href]=e),s(e,t)),e):void 0},m=function(e,t){return null==t&&(t={}),e?(Array.isArray(e)?e.forEach(function(e){return a(e,t)}):a(e,t),e):void 0},s=function(e,t){if(!t)throw new TSArgsError("linkItem","lookup must be provided");return e.href&&(t[e.href]=e),e.links.each(function(r,s){var o;if(!i.isPluralType(r)){if(!(o=t[s]))return;return e[r]=o,n(e,o)}return e[r]?void 0:e[r]=[]})},n=function(e,t){var r;return r=i.getPluralType(e.type),r&&t.links.has(r)?(t[r]||(t[r]=[]),-1===t[r].indexOf(e)?t[r].push(e):void 0):t.links.each(function(r,s){return s===e.href?t[r]=e:void 0})},a=function(e,t){return e.href?(t[e.href]===e&&delete t[e.href],e.links.each(function(t,r){return e[t]?(i.isPluralType(t)?c(e[t],e):u(e,e[t]),delete e[t]):void 0})):void 0},u=function(e,t){var r,s;return s=i.getPluralType(e.type),s&&t.links.has(s)&&t[s]?(r=t[s].indexOf(e),-1!==r?t[s].splice(r,1):void 0):t.links.each(function(r,s){return t[r]===e?delete t[r]:void 0})},c=function(e,t){return e.forEach(function(e){return e.links.each(function(r,s){return e[r]===t?delete e[r]:void 0})})},e.linkItems=o,e.unlinkItems=m,e.linkItem=s,e.linkItemWith=n,e.unlinkItem=a,e.unlinkItemFrom=u,e.unlinkItemsFrom=c}),e.register("loadCollections",function(e,t,r){var s,n,o,i;o=t("./promises"),i=t("./types"),s=t("./model").Collection,n=null,r.exports=function(e,t){return n&&"reject"!==n.getStatus()||(n=e.get(teamsnap.apiUrl).then(function(r){var a,u,m,c,l;if(a={},a.root=c=s.fromData(r.data),t&&t.root.version===c.version){a={};for(u in t)l=t[u],a[u]=new s(l);return n=o.resolve(a)}return m=[],i.getTypes().forEach(function(t){var r;return r=i.getPluralType(t),c.links.has(r)?m.push(e.get(c.links.href(r)).then(function(e){return a[r]=s.fromData(e.data)})):void 0}),o.when.apply(o,m).then(function(){return a})})),n},r.exports.clear=function(){return n=null}}),e.register("model",function(e,t,r){var s,n,o,i,a,u,m,c,l,d,p,f=function(e,t){function r(){this.constructor=e}for(var s in t)h.call(t,s)&&(e[s]=t[s]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},h={}.hasOwnProperty;d=t("./promises"),n=global.File||function(){},s=function(){function e(e){null==e&&(e={}),this.href=e.href,this.links=new i(e.links),this.queries=new i(e.queries),this.commands=new i(e.commands),this.template=e.template||[],e.version&&(this.version=e.version),e.items&&(this.items=e.items)}return e.fromData=function(t){return(new e).deserialize(t)},e.prototype.deserialize=function(e){var t,r;return e.collection&&(e=e.collection),e?(this.href=e.href,this.links.deserialize(e.links),this.queries.deserialize(e.queries),this.commands.deserialize(e.commands),e.version&&(this.version=e.version),this.template=(null!=(t=e.template)?t.data:void 0)||[],(null!=(r=e.items)?r.length:void 0)&&(this.items=e.items),this):void 0},e}(),a=function(e){function t(e,t){this._request=e,this.href=t.href,this.links=t.links,this.queries=t.queries,this.commands=t.commands,this.template=t.template,this.version=t.version,t.items&&(this.items=o.fromArray(this._request,t.items))}return f(t,e),t.fromData=function(e,r){return new t(e,(new s).deserialize(r))},t.prototype.save=function(e,t){var r,s;return e instanceof o||(e=o.create(this._request,e)),s=e.href?"put":"post",r=e.serialize(this.template),0===r.template.data.length?d.resolve(e).callback(t):this._request(s,e.href||this.href,r).then(function(t){return function(r){var s,n,i,a;if(n=null!=(i=r.data)&&null!=(a=i.collection)?a.items:void 0){if(n.length>1)return e.deserialize(n.shift()),s=o.fromArray(t._request,n),s.unshift(e),s;if(n.length)return e.deserialize(r.data)}}}(this)).callback(t)},t.prototype.loadItems=function(e,t){return this.links.loadItems(this._request,e,t)},t.prototype.loadItem=function(e,t){return this.links.loadItem(this._request,e,t)},t.prototype.queryItems=function(e,t,r){return this.queries.loadItems(this._request,e,t,r)},t.prototype.queryItem=function(e,t,r){return this.queries.loadItem(this._request,e,t,r)},t.prototype.exec=function(e,t,r){return this.commands.exec(this._request,e,t,r)},t}(s),o=function(){function e(e,t){this._request=e,"string"==typeof t?this.href=t:t&&"object"==typeof t&&m(t,this),this.links instanceof i||(this.links=new i(null!=t?t.links:void 0))}return e.create=function(t,r){return new e(t,r)},e.fromArray=function(t,r){return Array.isArray(r)?r.map(function(r){return e.fromData(t,r)}):r},e.fromData=function(e,t){return t.collection||t.data?this.create(e).deserialize(t):this.create(e,t)},e.prototype.deserialize=function(e){var t,r,s,n,o,i;if((null!=e?e.collection:void 0)&&(e=null!=(n=e.collection.items)?n[0]:void 0),e){for(this.href=e.href,this.links.deserialize(e.links),o=e.data,t=0,r=o.length;r>t;t++)s=o[t],i=s.value,"DateTime"===s.type&&i&&(i=new Date(i)),"type"===s.name&&(i=u(i)),this[u(s.name)]=i;return this}},e.prototype.serialize=function(e){var t,r;if(!(null!=e?e.length:void 0))throw new TSError("You must provide the collection's template");return t=[],r=this,e.forEach(function(e){var s;return s=r[u(e.name)],"type"===e.name&&(s=p(s)),void 0!==s?t.push({name:e.name,value:s}):void 0}),{template:{data:t}}},e.prototype.loadItems=function(e,t){return this.links.loadItems(this._request,e,t)},e.prototype.loadItem=function(e,t){return this.links.loadItem(this._request,e,t)},e.prototype["delete"]=function(e,t){var r,s,n,o;if("function"==typeof e&&(t=e,e=null),e){s=[];for(n in e)h.call(e,n)&&(o=e[n],s.push({name:p(n),value:o}));r={template:{data:s}}}return this._request["delete"](this.href,r).callback(t)},e.prototype.copy=function(t){var r;return r={},t?t.forEach(function(e){return function(t){var s;return s=u(t.name),r[s]=e[s]}}(this)):m(this,r),delete r.id,delete r.href,r.type=this.type,r.links=this.links.cloneEmpty(),new e(this._request,r)},e.prototype.toJSON=function(){var e;return e={},Object.keys(this).forEach(function(t){return function(r){var s;return s=t[r],"function"==typeof s||"_"===r.charAt(0)||t.links.has(r)?void 0:e[r]=t[r]}}(this)),e},e}(),i=function(){function e(e){e&&m(e,this)}return e.prototype.deserialize=function(e){var t,r,s,n,o,i,a,m,c,l,d,p;if(Array.isArray(e)){for(a={},Object.keys(this).forEach(function(e){return a[e]=!0}),r=0,n=e.length;n>r;r++){if(t=e[r],c={},Array.isArray(t.data))for(d=t.data,s=0,o=d.length;o>s;s++)m=d[s],c[u(m.name)]=m.value;l=u(t.rel),this[l]={href:t.href,params:c},delete a[l]}p=[];for(i in a)p.push(delete this[i]);return p}},e.prototype.has=function(e){return this.hasOwnProperty(e)},e.prototype.href=function(e){var t;return null!=(t=this[e])?t.href:void 0},e.prototype.each=function(e){var t,r,s;s=[];for(r in this)h.call(this,r)&&(t=this[r],s.push(e(r,t.href,t.params)));return s},e.prototype.loadItems=function(e,t,r,s){return"function"==typeof r&&(s=r,r=void 0),this._request(e,"get",t,r,"items").callback(s)},e.prototype.loadItem=function(e,t,r,s){return"function"==typeof r&&(s=r,r=void 0),this._request(e,"get",t,r,"item").callback(s)},e.prototype["delete"]=function(e,t,r){return this._request(e,"delete",t,void 0,"item").callback(r)},e.prototype.exec=function(e,t,r,s){return"function"==typeof r&&(s=r,r=void 0),this._request(e,"post",t,r,"items").callback(s)},e.prototype.cloneEmpty=function(){var t,r,s;t=new e;for(s in this)h.call(this,s)&&(r=this[s],r.href&&(t[s]={href:""}));return t},e.prototype._request=function(e,t,r,s,i){var a,u,m,c;if(!(u=this[r]))throw new TSError("Unable to find rel '"+r+"'");if(s){a={};for(m in s)if(h.call(s,m)){if(c=s[m],c instanceof n){a=new FormData;for(m in s)h.call(s,m)&&(c=s[m],
a.append(p(m),c));break}u.params.hasOwnProperty(m)&&(a[p(m)]=c)}}return e(t,u.href,a).then(function(t){var r,s,n;return r=(null!=(s=t.data)&&null!=(n=s.collection)?n.items:void 0)?o.fromArray(e,t.data.collection.items):[],"item"===i?r.pop():r})},e}(),c=/(At|Date)$/,l=/^\d{4}-/,m=function(e,t){return Object.keys(e).forEach(function(r){var s;return s=e[r],"function"!=typeof s&&"_"!==r.charAt(0)?(c.test(r)&&l.test(s)&&(s=new Date(s)),t[r]=s):void 0}),t},u=function(e){return e.replace(/[-_]+(\w)/g,function(e,t){return t.toUpperCase()})},p=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})},e.Collection=s,e.ScopedCollection=a,e.Item=o,e.MetaList=i}),e.register("persistence",function(e,t,r){var s,n,o,i,a,u,m,c,l,d,p,f,h,v,b,I,y,g=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1};d=t("./promises"),u=t("./linking"),b=t("./types"),s=t("./model").Item,p=t("./model"),o=p.ScopedCollection,s=p.Item,n=p.MetaList,m=null,e.enablePersistence=function(e){var t;if(!m){if(!this.collections)throw new TSError("You must auth() and loadCollections() before enabling persistence.");return this.persistenceEnabled=!0,m={},c(),l(this),t=[],t.push.apply(t,this.plans),t.push.apply(t,this.smsGateways),t.push.apply(t,this.sports),t.push.apply(t,this.timeZones),u.linkItems(this.plans.concat(this.sports),m),e?s.fromArray(this.request,e):void 0}},e.disablePersistence=function(){return m?(this.persistenceEnabled=!1,u.unlinkItems(Object.keys(m).map(function(e){return m[e]}),m),m=null,f(),h(this),this):void 0},e.findItem=function(e){return null!=m?m[e]:void 0},e.getAllItems=function(){return Object.keys(m).map(function(e){return m[e]})},e.unlinkTeam=function(e){var t,r,s,n,o,i,a,u,m;for(r=[e],u=null!=(o=e.members)?o.filter(function(e){return e.user}).map(function(e){return e.user}):void 0,i=this.getTeamTypes(),t=0,s=i.length;s>t;t++)a=i[t],n=this.getPluralType(a),(m=e[n])&&m.length?r.push.apply(r,m):(m=e[a])&&r.push(m);return unlinkItems(r)},c=function(){return I(s,"fromArray",function(e){return function(t,r){var s;return s=e.call(this,t,r),u.linkItems(s,m).map(function(e){return e.saveState()})}}),I(o.prototype,"save",function(e){return function(t,r){return e.call(this,t).then(function(e){return Array.isArray(e)?e.map(function(e){return u.linkItem(e,m),e.saveState()}):(u.linkItem(e,m),e.saveState())}).callback(r)}}),I(s.prototype,"delete",function(e){return function(t,r){var s;return s=this,u.unlinkItem(s,m),e.call(this,t).fail(function(e){return u.linkItem(s,m),e}).callback(r)}}),I(s,"create",function(e){return function(t,r){var s;return s=e.call(this,t,r),u.linkItem(s,m),s}}),I(s.prototype,"deserialize",function(e){return function(t){var r,s;return(null!=t?t.collection:void 0)&&(t=null!=(s=t.collection.items)?s[0]:void 0),r=m[t.href]||this,e.call(r,t)}}),I(s.prototype,"serialize",function(e){return function(t){var r,s;return r=e.call(this,t),(s=this._state)&&(r.template.data=r.template.data.filter(function(e){var t,r,n;return r=s[i(e.name)],n=e.value,t=n===r||n&&r&&n.valueOf()===r.valueOf(),!t})),r}}),s.prototype.saveState=function(){return this._state={_undos:[]},this.href&&a(this,this._state),this},s.prototype.rollback=function(){return this._state._undos.reverse().forEach(function(e){return e()}),this._state._undos.length=0,a(this._state,this)},s.prototype.link=function(e,t){var r,s;return this._state||this.saveState(),s=this._state._undos,this[e]&&(r=this[e],u.unlinkItemFrom(this,this[e]),s.push(function(t){return function(){return t[e]=r,t.links[e].href=r.href,t[e+"Id"]=r.id,u.linkItemWith(t,r)}}(this))),this[e]=t,t&&(this[e+"Id"]=t.id,this.links[e].href=t.href,u.linkItemWith(this,t),s.push(function(r){return function(){return delete r[e],delete r[e+"Id"],u.unlinkItemFrom(r,t)}}(this))),this}},f=function(){return v(n.prototype,"_request"),v(o.prototype,"save"),v(s.prototype,"delete"),v(s,"create"),v(s.prototype,"deserialize"),v(s.prototype,"serialize"),delete s.prototype.saveState,delete s.prototype.rollback,delete s.prototype.link},l=function(e){return y(e,"saveMember",function(t){return d.when(e.loadAvailabilities({memberId:t.id}),e.loadTrackedItemStatuses({memberId:t.id}),e.loadCustomData({memberId:t.id}),e.loadLeagueCustomData({memberId:t.id}))}),I(e,"deleteMember",function(e){return function(t,r){var s;return s=[],s.push.apply(s,t.assignments),s.push.apply(s,t.availabilities),t.contacts.forEach(function(e){return s.push.apply(s,e.contactEmailAddresses),s.push.apply(s,e.contactPhoneNumbers),s.push(e)}),s.push.apply(s,t.trackedItemStatuses),s.push.apply(s,t.memberPayments),s.push.apply(s,t.statisticData),u.unlinkItems(s,m),e.call(this,t,r).fail(function(e){return u.linkItems(s,m),e}).callback(r)}}),I(e,"deleteContact",function(e){return function(t,r){var s;return s=[],s.push.apply(s,t.contactEmailAddresses),s.push.apply(s,t.contactPhoneNumbers),u.unlinkItems(s,m),e.call(this,t,r).fail(function(e){return u.linkItems(s,m),e}).callback(r)}}),y(e,"saveEvent",function(t){var r;return r=Array.isArray(t)?t.map(function(e){return e.id}).join(","):t.id,e.loadAvailabilities({eventId:r})},function(t){var r,s,n,o,i,a;return t.isGame?d.when(e.loadTeamResults(t.teamId),e.loadOpponentResults(t.opponentId)):Array.isArray(t)?(i=function(){var e,s,n;for(n=[],e=0,s=t.length;s>e;e++)r=t[e],n.push(r.id);return n}(),s=t.shift(),a=[],null!=(n=s.team)&&null!=(o=n.events)&&o.forEach(function(e){return e.repeatingUuid===s.repeatingUuid?a.push(e):void 0}),a=a.filter(function(e){var t;return t=e.id,g.call(i,t)<0}),u.unlinkItems(a,m)):void 0}),I(e,"deleteEvent",function(t){return function(r,s,n,o,i){var a,c,l,p,f,h;return a=[],"string"==typeof s&&s!==e.EVENTS.NONE?(h=r.repeatingUuid,p=r.startDate,null!=(c=r.team)&&null!=(l=c.events)&&l.forEach(function(e){return e.repeatingUuid===h?a.push(e):void 0}),s===e.EVENTS.FUTURE&&(a=a.filter(function(e){return e.startDate>=p}))):a.push(r),f=a.slice(),a.forEach(function(e){return f.push.apply(f,e.assignments),f.push.apply(f,e.availabilities)}),u.unlinkItems(f,m),t.call(this,r,s,n,o,i).then(function(t){return r.isGame?d.when(e.loadTeamResults(r.teamId),e.loadOpponentResults(r.opponentId)).then(function(){return t}):t},function(e){return u.linkItems(f,m),e}).callback(i)}}),y(e,"saveTrackedItem",function(t){return e.loadTrackedItemStatuses({trackedItemId:t.id})}),I(e,"deleteTrackedItem",function(e){return function(t,r){var s;return s=t.trackedItemStatuses.slice(),u.unlinkItems(s,m),e.call(this,t).fail(function(e){return u.linkItems(s,m),e}).callback(r)}}),I(e,"deleteStatistic",function(e){return function(t,r){var s;return s=t.statisticData.slice(),u.unlinkItems(s,m),e.call(this,t).fail(function(e){return u.linkItems(s,m),e}).callback(r)}}),I(e,"bulkDeleteStatisticData",function(e){return function(t,r,s){var n,o;return o=[],null!=(n=t.statisticData)&&n.forEach(function(e){return e.event===r?o.push(e):void 0}),u.unlinkItems(o,m),e.call(this,t,r).fail(function(e){return u.linkItems(o,m),e}).callback(s)}}),I(e,"saveMemberPayment",function(t){return function(r,s){return t.call(this,r).then(function(t){return d.when(e.loadMemberBalances({memberId:r.memberId}),e.loadTeamFees({id:r.teamFeeId})).then(function(){return t})}).callback(s)}}),I(e,"saveTeamFee",function(t){return function(r,s){return t.call(this,r).then(function(t){return e.loadMemberBalances({teamId:r.teamId}).then(function(){return t})}).callback(s)}}),I(e,"deleteTeamFee",function(t){return function(r,s){return t.call(this,r).then(function(t){return e.loadMemberBalances({teamId:r.teamId}).then(function(){return t})}).callback(s)}}),I(e,"deleteTeam",function(e){return function(t,r){var s;return s=[],t.links.each(function(e){var r;return r=t[name],b.getType(e)&&"sport"!==e&&"plan"!==e?Array.isArray(r)?s.push.apply(s,r):s.push(r):void 0}),e.call(this,t).then(function(e){return u.unlinkItems(s,m),e}).callback(r)}})},h=function(e){return v(e,"saveMember"),v(e,"deleteMember"),v(e,"deleteContact"),v(e,"saveEvent"),v(e,"deleteEvent"),v(e,"saveTrackedItem"),v(e,"deleteTrackedItem"),v(e,"deleteTeam")},I=function(e,t,r){var s;return s=e[t],e[t]=r(s),e[t].oldMethod=s,e},v=function(e,t){var r;return r=e[t].oldMethod,e[t]=r},y=function(e,t,r,s){return I(e,t,function(e){return function(t,n){var o;return t.id&&s?(o=null,e.call(this,t).then(function(e){return o=e}).then(s).then(function(){return o}).callback(n)):!t.id&&r?(o=null,e.call(this,t).then(function(e){return o=e}).then(r).then(function(){return o}).callback(n)):e.call(this,t,n)}})},a=function(e,t){return Object.keys(e).forEach(function(r){return"function"!=typeof value&&"_"!==r.charAt(0)?t[r]=e[r]:void 0}),t},i=function(e){return e.replace(/[-_]+(\w)/g,function(e,t){return t.toUpperCase()})}}),e.register("promises",function(e,t,r){var s,n,o,i,a=function(e,t){return function(){return e.apply(t,arguments)}},u=[].slice,m={}.hasOwnProperty;i="undefined"!=typeof e?e:this,n=function(){function e(){this.call=a(this.call,this)}return e.prototype.then=function(e,t,r,s){throw new TypeError("The Promise base class is abstract, this function is overwritten by the promise's deferred object")},e.prototype.callback=function(e){return e&&"function"==typeof e&&this.then(function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],e.apply(null,[null].concat(u.call(t)))},function(t){return e(t)}),this},e.prototype.resolved=function(e){return this.then(e)},e.prototype.done=function(e){return this.then(e)},e.prototype.rejected=function(e){return this.then(null,e)},e.prototype.fail=function(e){return this.then(null,e)},e.prototype.always=function(e){var t,r;return r=function(t){return e(null,t)},t=function(t){return e(t)},this.then(r,t)},e.prototype.progress=function(e){return this.then(null,null,e)},e.prototype.canceled=function(e){return this.then(null,null,null,e)},e.prototype.apply=function(e,t){return this.then(function(r){return(r instanceof Array)(e.apply(t||this,r))?void 0:e.call(t||this,r)})},e.prototype.cancel=function(){throw new TypeError("The Promise base class is abstract, this function is overwritten by the promise's deferred object")},e.prototype.get=function(e){return this.then(function(t){return null!=t?t[e]:void 0})},e.prototype.set=function(e,t){return this.then(function(r){return null!=r&&(r[e]=t),r})},e.prototype.put=function(e,t){return this.then(function(r){return null!=r?r[e]=t:void 0})},e.prototype.run=function(){var e,t;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],this.then(function(r){return null!=r&&r[e].apply(r,t),r})},e.prototype.call=function(){var e,t;return e=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],this.then(function(r){return r[e].apply(r,t)})},e}(),["pop","shift","splice","filter","every","map","some"].forEach(function(e){return n.prototype[e]=function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],this.then(function(r){return null!=r&&"function"==typeof r[e]?r[e].apply(r,t):void 0})}}),["push","reverse","sort","unshift","forEach"].forEach(function(e){return n.prototype[e]=function(){var t;return t=1<=arguments.length?u.call(arguments,0):[],this.then(function(r){return r instanceof Array&&r[e].apply(r,t),r})}}),n.extend=function(e){var t,r,s;if(t=function(){},t.extend=this.extend,t.prototype=new this,e)for(r in e)m.call(e,r)&&(s=e[r],t.prototype[r]=s);return t},i.when=function(){var e,t,r,s,n,o,a,m,c,l,d,p;for(c=1<=arguments.length?u.call(arguments,0):[],s=i.defer(),t=c.length,l=!1,p=function(){},d=function(e){return l=!0,e},r=function(e){return function(){var r;return r=1<=arguments.length?u.call(arguments,0):[],c[e]=r.length>1?r:r[0],0===--t?l?s.reject.apply(s,c):s.resolve.apply(s,c):void 0}},a=n=0,o=c.length;o>n;a=++n)m=c[a],m&&"function"==typeof m.then?(e=r(a),m.then(p,d),m.then(e,e)):--t;return 0===t&&s.resolve.apply(s,c),s.promise},o=function(){var e;return e=1<=arguments.length?u.call(arguments,0):[],e.isArgs=!0,e},s=function(){function e(e){null==e&&(e=new i.Promise),this.progress=a(this.progress,this),this.cancel=a(this.cancel,this),this.reject=a(this.reject,this),this.resolve=a(this.resolve,this),this.finished=a(this.finished,this),this.then=a(this.then,this),this.promise=e,this.status="pending",this.progressHandlers=[],this.handlers=[],e.then=this.then,e.cancel=this.cancel,e.getStatus=function(e){return function(){return e.status}}(this)}return e.prototype.then=function(e,t,r,s){var n,o,a,u,m,c,l;for(a=0,u=arguments.length;u>a;a++)if(o=arguments[a],null!=o&&"function"!=typeof o)throw new Error("Promise handlers must be functions");return r&&this.progressHandlers.push(r),c=i.defer(),c.promise.prev=this.promise,this._addHandler(e,t,s).nextDeferred=c,this.finished()&&(o=this.handlers.pop(),m=o[this.status],n=o.nextDeferred,m?(l=m.apply(null,this.results),l&&"function"==typeof l.then?l.then(n.resolve,n.reject):n[this.status](l)):n[this.status].apply(n,this.results)),c.promise},e.prototype.finished=function(){return"pending"!==this.status},e.prototype.resolve=function(){var e,t,r,s,n,o;if(o=1<=arguments.length?u.call(arguments,0):[],"pending"===this.status)for((null!=(n=o[0])?n.isArgs:void 0)&&(o=o[0]),clearTimeout(this._timeout),this.status="resolve",this.results=o;t=this.handlers.shift();)r=t[this.status],e=t.nextDeferred,r?(s=r.apply(null,this.results),s&&"function"==typeof s.then?s.then(e.resolve,e.reject):e[this.status](s)):e[this.status].apply(e,this.results)},e.prototype.reject=function(){var e,t,r,s,n,o;if(o=1<=arguments.length?u.call(arguments,0):[],"pending"===this.status)for((null!=(n=o[0])?n.isArgs:void 0)&&(o=o[0]),clearTimeout(this._timeout),this.status="reject",this.results=o;t=this.handlers.shift();)r=t[this.status],e=t.nextDeferred,r?(s=r.apply(null,this.results),s&&"function"==typeof s.then?s.then(e.resolve,e.reject):e[this.status](s)):e[this.status].apply(e,this.results)},e.prototype.cancel=function(){var e,t,r,s,n,o,i;if(i=1<=arguments.length?u.call(arguments,0):[],"pending"===this.status){for((null!=(n=i[0])?n.isArgs:void 0)&&(i=i[0]),clearTimeout(this._timeout),this.status="cancel",this.results=i;t=this.handlers.shift();)r=t[this.status],e=t.nextDeferred,r?(s=r.apply(null,this.results),s&&"function"==typeof s.then?s.then(e.resolve,e.reject):e[this.status](s)):e[this.status].apply(e,this.results);null!=(o=this.promise.prev)&&o.cancel()}},e.prototype.progress=function(){var e,t,r,s,n,o;for(r=1<=arguments.length?u.call(arguments,0):[],n=this.progressHandlers,o=[],e=0,t=n.length;t>e;e++)s=n[e],o.push(s.apply(null,r));return o},e.prototype.timeout=function(e,t){return clearTimeout(this._timeout),this._timeout=setTimeout(function(e){return function(){return e.reject(null!=t?t:new Error("Operation timed out"))}}(this),e)},e.prototype.reset=function(){return this.status="pending",this.progressHandlers=[],this.handlers=[]},e.prototype._addHandler=function(e,t,r){var s;return s={resolve:e,reject:t,cancel:r},this.handlers.push(s),s},e}(),i.Deferred=s,i.Promise=n,i.args=o,i.defer=function(e){return new i.Deferred(e)},i.wrap=function(e,t){return function(){var r,s,n,o;return r=1<=arguments.length?u.call(arguments,0):[],o=t?new t:void 0,n=i.defer(o),"function"==typeof r[r.length-1]&&(s=r.pop()),r.push(function(e,t){var r;return r=Array.prototype.slice.call(arguments,2),s&&s.apply(null,[e,t].concat(u.call(r))),e?n.reject(e):n.resolve.apply(n,[t].concat(u.call(r)))}),e.apply(this,r),n.promise}},i.resolve=function(){var e,t;return e=1<=arguments.length?u.call(arguments,0):[],t=i.defer(),t.resolve.apply(t,e),t.promise},i.reject=function(){var e,t;return e=1<=arguments.length?u.call(arguments,0):[],t=i.defer(),t.reject.apply(t,e),t.promise}}),e.register("request",function(e,t,r){var s,n,o,i,a,u,m=function(e,t){function r(){this.constructor=e}for(var s in t)c.call(t,s)&&(e[s]=t[s]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},c={}.hasOwnProperty;"undefined"==typeof XMLHttpRequest&&(global.XMLHttpRequest=t("xmlhttprequest").XMLHttpRequest),s=global.FormData||function(){},i=t("./promises"),a=function(e,t,r,o,a){var m,c,l,d,p,f,h,v;if(r&&"GET"===e.toUpperCase()){f=[];for(d in r)h=r[d],f.push(encodeURIComponent(d)+"="+encodeURIComponent(h));f.length&&(t+=-1===t.indexOf("?")?"?":"&",t+=f.join("&"))}else"object"!=typeof r||r instanceof s||(r=JSON.stringify(r));if(v=new XMLHttpRequest,v.open(e.toUpperCase(),t),o)for(l=0,p=o.length;p>l;l++)(c=o[l])(v,r);return m=i.defer(),v.onreadystatechange=function(){var e,t,r,s;switch(v.readyState){case 3:return m.progress(v);case 4:try{v.data=JSON.parse(v.responseText)}catch(o){v.data=null}return v.status>=400&&(e=(null!=(t=v.data)&&null!=(r=t.collection)&&null!=(s=r.error)?s.message:void 0)||""),0===v.status?u?i.defer().promise:m.reject(new n(n.CONNECTION_ERROR,"Could not connect to the server"),v,e):v.status>=500?(global.console&&console.error("TeamSnap API error: "+e),m.reject(new n(n.SERVER_ERROR,"Error with the server"),v,e)):v.status>400?m.reject(new n(n.CLIENT_ERROR,"There was an error with the request"),v,e):400===v.status?m.reject(new n(n.VALIDATION_ERROR,e||"The data was invalid"),v):m.resolve(v)}},v.send(r||null),m.promise.callback(a)},o=function(e){var t;return null==e&&(e=[]),t=function(t,r,s,n){return"function"==typeof s&&(n=s,s=null),a(t,r,s,e,n)},t.get=function(e,r,s){return t("get",e,r,s)},t.post=function(e,r,s){return t("post",e,r,s)},t.put=function(e,r,s){return t("put",e,r,s)},t["delete"]=function(e,r,s){return t("delete",e,r,s)},t.create=function(){return o()},t.clone=function(){return o(e.slice())},t.reset=function(){return e=[],this},t.hook=function(t){return e.push(t),this},t.removeHook=function(t){var r;return r=e.indexOf(t),-1!==r&&e.splice(r,1),this},t},r.exports=o(),n=function(e){function t(e,r){this.code=e,this.message=r,t.__super__.constructor.call(this),this.name="RequestError"}return m(t,e),t.CONNECTION_ERROR=1,t.SERVER_ERROR=2,t.CLIENT_ERROR=3,t.VALIDATION_ERROR=4,t}(Error),"undefined"!=typeof window&&(u=!1,window.addEventListener("beforeunload",function(){u=!0}))}),e.register("sdk",function(e,t,r){var s,n,o,i,a,u,m,c,l,d,p={}.hasOwnProperty;o=t("./teamsnap").TeamSnap,c=t("./promises"),u=t("./loadCollections"),l=t("./model"),s=l.Item,n=l.ScopedCollection,d=/^https?:\/\//,o.prototype.loadCollections=function(e,t){return"function"==typeof e&&(t=e,e=null),u(this.request,e).then(function(e){return function(t){return e.collections={},Object.keys(t).forEach(function(r){return e.collections[r]=new n(e.request,t[r])}),e.apiVersion=t.root.version,e.plans=s.fromArray(e.request,t.plans.items.slice()),e.smsGateways=s.fromArray(e.request,t.smsGateways.items.slice()),e.sports=s.fromArray(e.request,t.sports.items.slice()),e.timeZones=s.fromArray(e.request,t.timeZones.items.slice()),e}}(this)).callback(t)},o.prototype.reloadCollections=function(e){return u.clear(),this.loadCollections(e)},o.prototype.loadItems=function(e,t,r){var s;if(!this.hasType(e))throw new TSArgsError("teamsnap.load*","must provide a valid `type`");return s=this.getCollectionForItem(e),s.queryItems("search",t,r)},o.prototype.loadItem=function(e,t,r){var s;if(!this.hasType(e))throw new TSArgsError("teamsnap.load*","must provide a valid `type`");return s=this.getCollectionForItem(e),s.queryItem("search",t,r)},o.prototype.createItem=function(e,t){var r;if(e||(e=t,t=null),t&&(e=m(e,t)),!this.isItem(e))throw new TSArgsError("teamsnap.create*","must include a valid `type`");return e.links||(r=this.getCollectionForItem(e.type),e.links=r.links.cloneEmpty()),s.create(this.request,e)},o.prototype.saveItem=function(e,t){var r;if(!this.isItem(e))throw new TSArgsError("teamsnap.save*","must include a valid `type`");return r=this.getCollectionForItem(e),r.save(e,t)},o.prototype.deleteItem=function(e,t,r){if("string"==typeof e&&d.test(e)&&(e={href:e}),"string"!=typeof(null!=e?e.href:void 0)||!d.test(e.href))throw new TSArgsError("teamsnap.delete*","item must have a valid href to delete");return e instanceof s||(e=s.create(this.request,e)),e["delete"](t,r)},o.prototype.copyItem=function(e){var t;return t=this.getCollectionForItem(e),e.copy(t.template)},o.prototype.getNameSort=function(){return function(e,t){var r,s;return e.type!==t.type?(r=e.type,s=t.type):"string"==typeof e.name&&"string"==typeof t.name?(r=e.name.toLowerCase(),s=t.name.toLowerCase()):e.createdAt&&t.createdAt?(r=e.createdAt,s=t.createdAt):(r=e.id,s=t.id),"function"==typeof r.localeCompare?r.localeCompare(s):r===s?0:!r&&s?1:r&&!s?-1:r>s?1:s>r?-1:0}},o.prototype.getDefaultSort=function(){return function(e,t){var r,s;return e.type!==t.type?(r=e.type,s=t.type):e.createdAt&&t.createdAt?(r=e.createdAt,s=t.createdAt):(r=e.id,s=t.id),"function"==typeof r.localeCompare?r.localeCompare(s):r===s?0:!r&&s?1:r&&!s?-1:r>s?1:s>r?-1:0}},o.prototype.getCollectionForItem=function(e){var t,r;if(!this.collections)throw new TSError("You must auth() and loadCollections() before using any load*, save*, create*, or delete* methods.");return r="string"==typeof e?e:e.type,t=this.getPluralType(r),this.collections[t]},o.prototype.isId=function(e){return"string"==typeof e||"number"==typeof e},o.prototype.isItem=function(e,t){return this.hasType(null!=e?e.type:void 0)&&(!t||e.type===t)},o.prototype.reject=function(e,t,r){return c.reject(new TSValidationError(e,t)).callback(r)},i=function(e){var t,r,s;r=[];for(t in e)s=e[t],r.push(o.prototype[t]=s);return r},i(t("./types")),a=t("./linking"),o.prototype.linkItems=a.linkItems,o.prototype.unlinkItems=a.unlinkItems,i(t("./persistence")),i(t("./collections/teams")),i(t("./collections/assignments")),i(t("./collections/availabilities")),i(t("./collections/broadcastEmails")),i(t("./collections/broadcastSms")),i(t("./collections/contactEmailAddresses")),i(t("./collections/contactPhoneNumbers")),i(t("./collections/contacts")),i(t("./collections/customData")),i(t("./collections/customFields")),i(t("./collections/leagueCustomData")),i(t("./collections/leagueCustomFields")),i(t("./collections/divisionLocations")),i(t("./collections/divisionMembers")),i(t("./collections/divisionMemberPreferences")),i(t("./collections/divisionTeamStandings")),i(t("./collections/events")),i(t("./collections/forumPosts")),i(t("./collections/forumSubscriptions")),i(t("./collections/forumTopics")),i(t("./collections/leagueRegistrantDocuments")),i(t("./collections/locations")),i(t("./collections/memberBalances")),i(t("./collections/memberEmailAddresses")),i(t("./collections/memberFiles")),i(t("./collections/memberLinks")),i(t("./collections/memberPayments")),i(t("./collections/memberPhoneNumbers")),i(t("./collections/memberPreferences")),i(t("./collections/memberStatistics")),i(t("./collections/members")),i(t("./collections/opponents")),i(t("./collections/opponentResults")),i(t("./collections/paymentNotes")),i(t("./collections/plans")),i(t("./collections/sponsors")),i(t("./collections/sports")),i(t("./collections/statistics")),i(t("./collections/statisticData")),i(t("./collections/statisticGroups")),i(t("./collections/teamFees")),i(t("./collections/teamPaypalPreferences")),i(t("./collections/teamPreferences")),i(t("./collections/teamPublicSites")),i(t("./collections/teamResults")),i(t("./collections/teamStatistics")),i(t("./collections/trackedItems")),i(t("./collections/trackedItemStatuses")),i(t("./collections/users")),m=function(e,t){var r,s,n;s={};for(r in e)p.call(e,r)&&(n=e[r],"function"!=typeof n&&"_"!==r.charAt(0)&&(s[r]=n));for(r in t)p.call(t,r)&&(n=t[r],"function"==typeof n||e.hasOwnProperty(r)||(s[r]=n));return s}}),e.register("teamsnap",function(e,t,r){var s,n,o,i,a;i=t("./promises"),a=t("./model"),s=a.Collection,n=a.Item,t("./errors"),o=function(){function e(e,t){this.apiUrl=null!=e?e:"https://apiv3.teamsnap.com",this.authUrl=null!=t?t:"https://auth.teamsnap.com"}return e.prototype.version="1.4.1",e.prototype.promises=i,e.prototype.when=i.when,e.prototype.TeamSnap=e,e.prototype.Collection=s,e.prototype.Item=n,e}(),r.exports=new o,t("./auth"),t("./sdk"),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")})}),e.register("types",function(e,t,r){var s,n,o,i,a,u,m,c,l,d;for(m=e,d=["user","assignment","availability","broadcastEmail","broadcastSms","contact","contactEmailAddress","contactPhoneNumber","customDatum","customField","leagueCustomDatum","leagueCustomField","divisionLocation","divisionMember","divisionMemberPreferences","divisionTeamStanding","event","forumPost","forumSubscription","forumTopic","leagueRegistrantDocument","location","member","memberBalance","memberEmailAddress","memberFile","memberLink","memberPayment","memberPhoneNumber","memberPreferences","memberStatistic","opponent","opponentResults","paymentNote","plan","smsGateway","sponsor","statistic","statisticDatum","statisticGroup","sport","team","teamFee","teamPaypalPreferences","teamPreferences","teamPublicSite","teamResults","teamStatistic","timeZone","trackedItem","trackedItemStatus"],u=d.slice(),u.remove=function(e){var t;return t=this.indexOf(e),-1!==t&&this.splice(t,1),this},u.remove("user").remove("plan").remove("smsGateway").remove("sport").remove("timeZone"),l={},a={},i={broadcastSms:"broadcastSmses",memberPreferences:"membersPreferences",divisionMemberPreferences:"divisionMembersPreferences",opponentResults:"opponentsResults",statisticDatum:"statisticData",teamPaypalPreferences:"teamsPaypalPreferences",teamPreferences:"teamsPreferences",teamResults:"teamsResults",customDatum:"customData",leagueCustomDatum:"leagueCustomData",smsGateway:"smsGateways"},s=0,n=d.length;n>s;s++)c=d[s],o=i[c]||function(){switch(c.slice(-1)){case"y":return c.slice(0,-1)+"ies";case"s":return c+"es";default:return c+"s"}}(),l[c]=c,l[o]=c,a[o]=c,i[c]=o;m.isPluralType=function(e){return a.hasOwnProperty(e)},m.isSingularType=function(e){return i.hasOwnProperty(e)},m.hasType=function(e){return void 0!==l[e]},m.getTypes=function(){return d.slice()},m.getTeamTypes=function(){return u.slice()},m.getPluralType=function(e){return i[e]},m.getSingularType=function(e){return a[e]},m.getType=function(e){return l[e]},m.camelcaseType=function(e){return e.replace(/[-_]+(\w)/g,function(e,t){return t.toUpperCase()})},m.underscoreType=function(e){return e.replace(/[A-Z]/g,function(e){return"_"+e.toLowerCase()})}}),global.teamsnap=e("teamsnap")}();