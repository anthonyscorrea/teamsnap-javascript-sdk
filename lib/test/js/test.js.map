{"version":3,"file":"lib/test/js/test.js","sources":["test/init.coffee"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAAA,KAAK,CAAC,KAAN,CAAY,KAAZ;;AAAA,MACM,CAAC,OAAO,CAAC,IAAf,EAAqB,CAAC,MAAtB,CAA6B,SAAC,CAAD;SAAO,OAAO,CAAC,IAAR,CAAa,CAAb,EAAP;AAAA,CAA7B,CAAoD,CAAC,OAArD,CAA6D,OAA7D,CADA;;AAAA,KAEK,CAAC,UAAN,EAFA;;AAAA,WAIA,GAAc,QAAQ,CAAC,cAAT,CAAwB,MAAxB,CAJd;;AAAA,UAKA,GAAa,QAAQ,CAAC,cAAT,CAAwB,aAAxB,CALb;;AAAA,QAMA,GAAW,kEANX;;AAAA,QAOA,GAAW,6BAPX;;AAAA,MAQA,GAAS,CACP,MADO,EAEP,gBAFO,EAGP,+BAHO,EAIP,cAJO,EAKP,iBALO,EAMP,iBANO,EAOP,oBAPO,EAQP,eARO,EASP,8BATO,EAUP,2BAVO,EAWP,aAXO,EAYP,yBAZO,EAaP,qBAbO,EAcP,qBAdO,EAeP,6BAfO,CART;;AAAA,UA0BA,GAAa,SAAC,GAAD;AACX;AAAA,aAAW,CAAC,UAAU,CAAC,WAAvB,CAAmC,WAAnC;AAAA,EACA,WAAW,GADX;SAEA,KAAK,CAAC,GAAN,GAHW;AAAA,CA1Bb;;AAAA,cA8BA,GAAiB,SAAC,GAAD;SACf,WAAW,CAAC,KAAK,CAAC,OAAlB,GAA4B,GADb;AAAA,CA9BjB;;AAAA,UAiCU,CAAC,gBAAX,CAA4B,OAA5B,EAAqC;AACnC,aAAW,CAAC,KAAK,CAAC,OAAlB,GAA4B,MAA5B;SACA,QAAQ,CAAC,gBAAT,CAA0B,QAA1B,EAAoC,MAApC,CAA2C,CAAC,IAA5C,CAAiD,UAAjD,EAA6D,cAA7D,EAFmC;AAAA,CAArC,CAjCA;;AAAA,QAsCQ,CAAC,IAAT,CAAc,QAAd,CAtCA;;AAwCA,IAAG,QAAQ,CAAC,QAAT,EAAH;AACE,aAAW,CAAC,KAAK,CAAC,OAAlB,GAA4B,MAA5B;AAAA,EACA,QAAQ,CAAC,IAAT,EAAe,CAAC,IAAhB,CAAqB,UAArB,EAAiC,cAAjC,CADA,CADF;CAAA;AAIE,YAAU,CAAC,gBAAX,CAA4B,OAA5B,EAAqC;AACnC;AAAA,YAAQ,CAAC,gBAAT,CAA0B,QAA1B,EAAoC,MAApC,CAA2C,CAAC,IAA5C,CAAiD,SAAC,GAAD,IAAjD;AAAA,IACA,WAAW,CAAC,UAAU,CAAC,WAAvB,CAAmC,WAAnC,CADA;AAAA,IAEA,WAAW,GAFX;WAGA,KAAK,CAAC,GAAN,GAJmC;EAAA,CAArC,EAJF;CAxCA","sourcesContent":["mocha.setup('bdd')\nwindow.require.list().filter((_) -> /^test/.test(_)).forEach(require)\nmocha.checkLeaks()\n\nauthSection = document.getElementById('auth')\nauthButton = document.getElementById('auth-button')\nclientId = '1d228d706ce170d61f9368b5967bd7a1641e6ecf742434dc198047f1a36a930a'\nredirect = 'http://localhost:8000/test/'\nscopes = [\n  'read'\n  'write_contacts'\n  'write_contact_email_addresses'\n  'write_events'\n  'write_locations'\n  'write_opponents'\n  'write_refreshments'\n  'write_rosters'\n  'write_roster_email_addresses'\n  'write_rosters_preferences'\n  'write_teams'\n  'write_teams_preferences'\n  'write_teams_results'\n  'write_tracked_items'\n  'write_tracked_item_statuses'\n]\n\nwhenAuthed = (sdk) ->\n  authSection.parentNode.removeChild authSection\n  teamsnap = sdk\n  mocha.run()\nwhenAuthFailed = (sdk) ->\n  authSection.style.display = ''\n\nauthButton.addEventListener 'click', ->\n  authSection.style.display = 'none'\n  teamsnap.startBrowserAuth(redirect, scopes).then whenAuthed, whenAuthFailed\n\n\nteamsnap.init clientId\n\nif teamsnap.isAuthed()\n  authSection.style.display = 'none'\n  teamsnap.auth().then whenAuthed, whenAuthFailed\nelse\n  authButton.addEventListener 'click', ->\n    teamsnap.startBrowserAuth(redirect, scopes).then (sdk) ->\n    authSection.parentNode.removeChild authSection\n    teamsnap = sdk\n    mocha.run()"]}